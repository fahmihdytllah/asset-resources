((C,d)=>{function o(A,g,h,t,e){function r(){var n,i,o,l;w=1<C.devicePixelRatio,h=a(h),0<=g.delay&&setTimeout(function(){u(!0)},g.delay),(g.delay<0||g.combined)&&(t.e=(n=g.throttle,i=function(t){"resize"===t.type&&(y=z=-1),u(t.all)},l=0,function(t,e){function r(){l=+new Date,i.call(A,t)}var a=+new Date-l;o&&clearTimeout(o),n<a||!g.enableThrottle||e?r():o=setTimeout(r,n-a)}),t.a=function(t){t=a(t),h.push.apply(h,t)},t.g=function(){return h=O(h).filter(function(){return!O(this).data(g.loadedName)})},t.f=function(t){for(var e=0;e<t.length;e++){var r=h.filter(function(){return this===t[e]});r.length&&u(!1,r)}},u(),O(g.appendScroll).on("scroll."+e+" resize."+e,t.e))}function a(t){for(var e=g.defaultImage,r=g.placeholder,a=g.imageBase,n=g.srcsetAttribute,i=g.loaderAttribute,o=g._f||{},l=0,u=(t=O(t).filter(function(){var t=O(this),e=m(this);return!t.data(g.handledName)&&(t.attr(g.attribute)||t.attr(n)||t.attr(i)||o[e]!==d)}).data("plugin_"+g.name,A)).length;l<u;l++){var f=O(t[l]),s=m(t[l]),c=f.attr(g.imageBaseAttribute)||a;s===D&&c&&f.attr(n)&&f.attr(n,((t,e)=>{if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t})(f.attr(n),c)),o[s]===d||f.attr(i)||f.attr(i,o[s]),s===D&&e&&!f.attr(I)?f.attr(I,e):s===D||!r||f.css(F)&&"none"!==f.css(F)||f.css(F,"url('"+r+"')")}return t}function u(t,e){if(!h.length)return g.autoDestroy&&A.destroy();for(var r,a,n,i,o,l=e||h,u=!1,f=g.imageBase||"",s=g.srcsetAttribute,c=g.handledName,d=0;d<l.length;d++)(t||e||(a=l[d],i=o=i=n=void 0,a=a.getBoundingClientRect(),n=g.scrollDirection,i=g.threshold,o=(0<=z?z:z=O(C).height())+i>a.top&&-i<a.bottom,i=(0<=y?y:y=O(C).width())+i>a.left&&-i<a.right,"vertical"===n?o:("horizontal"===n||o)&&i))&&(a=O(l[d]),n=m(l[d]),o=a.attr(g.attribute),i=a.attr(g.imageBaseAttribute)||f,r=a.attr(g.loaderAttribute),a.data(c)||g.visibleOnly&&!a.is(":visible")||!((o||a.attr(s))&&(n===D&&(i+o!==a.attr(I)||a.attr(s)!==a.attr(N))||n!==D&&i+o!==a.css(F))||r)||(a.data(c,u=!0),((e,t,r,a)=>{++p;var n,i,o=function(){v("onError",e),b(),o=O.noop},l=(v("beforeLoad",e),g.attribute),u=g.srcsetAttribute,f=g.sizesAttribute,s=g.retinaAttribute,c=g.removeAttribute,d=g.loadedName,A=e.attr(s);a?(n=function(){c&&e.removeAttr(g.loaderAttribute),e.data(d,!0),v(B,e),setTimeout(b,1),n=O.noop},e.off(T).one(T,o).one(L,n),v(a,e,function(t){(t?(e.off(L),n):(e.off(T),o))()})||e.trigger(T)):((i=O(new Image)).one(T,o).one(L,function(){e.hide(),t===D?e.attr(E,i.attr(E)).attr(N,i.attr(N)).attr(I,i.attr(I)):e.css(F,"url('"+i.attr(I)+"')"),e[g.effect](g.effectTime),c&&(e.removeAttr(l+" "+u+" "+s+" "+g.imageBaseAttribute),f!==E)&&e.removeAttr(f),e.data(d,!0),v(B,e),i.remove(),b()}),a=(w&&A?A:e.attr(l))||"",i.attr(E,e.attr(f)).attr(N,e.attr(u)).attr(I,a?r+a:null),i.complete&&i.trigger(L))})(a,n,i,r)));u&&(h=O(h).filter(function(){return!O(this).data(c)}))}function m(t){return t.tagName.toLowerCase()}function b(){--p,h.length||p||v("onFinishedAll")}function v(t){return(t=g[t])&&(t.apply(A,[].slice.call(arguments,1)),1)}var p=0,y=-1,z=-1,w=!1,B="afterLoad",L="load",T="error",D="img",I="src",N="srcset",E="sizes",F="background-image";"event"===g.bind||n?r():O(C).on(L+"."+e,r)}function f(t,e){var r=this,a=O.extend({},r.config,e),n={},i=a.name+"-"+ ++l;return r.config=function(t,e){return e===d?a[t]:(a[t]=e,r)},r.addItems=function(t){return n.a&&n.a("string"===O.type(t)?O(t):t),r},r.getItems=function(){return n.g?n.g():{}},r.update=function(t){return n.e&&n.e({},!t),r},r.force=function(t){return n.f&&n.f("string"===O.type(t)?O(t):t),r},r.loadAll=function(){return n.e&&n.e({all:!0},!0),r},r.destroy=function(){return O(a.appendScroll).off("."+i,n.e),O(C).off("."+i),n={},d},o(r,a,t,n,i),a.chainable?t:r}var O=C.jQuery||C.Zepto,l=0,n=!1;O.fn.Lazy=O.fn.lazy=function(t){return new f(this,t)},O.Lazy=O.lazy=function(t,e,r){if(O.isFunction(e)&&(r=e,e=[]),O.isFunction(r)){t=O.isArray(t)?t:[t],e=O.isArray(e)?e:[e];for(var a=f.prototype.config,n=a._f||(a._f={}),i=0,o=t.length;i<o;i++)a[t[i]]!==d&&!O.isFunction(a[t[i]])||(a[t[i]]=r);for(var l=0,u=e.length;l<u;l++)n[e[l]]=t[0]}},f.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:C,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:d,afterLoad:d,onError:d,onFinishedAll:d},O(C).on("load",function(){n=!0})})(window);